<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>pfa documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	    <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">pfa documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
                <input type="text" placeholder="Type to search">
            </div>
            <nav>
            
                <ul class="list">
            
                    <li class="title">
                        <a href="../">pfa documentation</a>
                    </li>
            
                    <li class="divider"></li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                        <ul class="links">
                                <li class="link">
                                    <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                </li>
                                <li class="link">
                                    <a 
                                        
                                         href="../overview.html" 
                                         href="../overview.html" 
                                        >
                                        <span class="fa fa-th"></span>Overview
                                    </a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="./modules.html" >
                            <span class="fa fa-archive"></span>
                            <span>Modules</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-modules-links"
                            ></span>
                        </a>
                        <ul class="links collapse in"
                                id="xs-modules-links"
                            >
                                <li class="link">
                                    <a href="../modules/AppModule.html" >AppModule</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-cogs"></span>
                            <span>Components</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-components-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-components-links"
                            >
                                <li class="link">
                                    <a href="../components/AboutComponent.html" >AboutComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AddNodeComponent.html" >AddNodeComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AddWeightedEdgeComponent.html" >AddWeightedEdgeComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AppComponent.html" >AppComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ChangeColorComponent.html" >ChangeColorComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ChangeIdNodeComponent.html" >ChangeIdNodeComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ChangeSizeScreenComponent.html" >ChangeSizeScreenComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ContactComponent.html" >ContactComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/FooterComponent.html" >FooterComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/GrapheFromEdgesListComponent.html" >GrapheFromEdgesListComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/GrapheFromMatrixAdjaComponent.html" >GrapheFromMatrixAdjaComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/HeaderComponent.html" >HeaderComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/InfoComponent.html" >InfoComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MatrixComponent.html" >MatrixComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MessageComponent.html" >MessageComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/RemoveEdgeComponent.html" >RemoveEdgeComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ScreenComponent.html" >ScreenComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ScreenboxComponent.html" >ScreenboxComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SelectComponent.html" >SelectComponent</a>
                                </li>
                        </ul>
                    </li>
            
            
            
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-long-arrow-down"></span>
                            <span>Injectables</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-injectables-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-injectables-links"
                            >
                                <li class="link">
                                    <a href="../injectables/AlgorithmService.html" >AlgorithmService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/DarkModeService.html" >DarkModeService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/GrapheService.html" >GrapheService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/SaveUploadService.html"  class="active" >SaveUploadService</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-info"></span>
                            <span>Interfaces</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-interfaces-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-interfaces-links"
                            >
                                <li class="link">
                                    <a href="../interfaces/IUnweightedEdge.html" >IUnweightedEdge</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/IUnweightedEdgeTyped.html" >IUnweightedEdgeTyped</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/IWeightedEdge.html" >IWeightedEdge</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/IWeightedEdgeTyped.html" >IWeightedEdgeTyped</a>
                                </li>
                        </ul>
                    </li>
            
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                    </li>
            
                    <li class="divider"></li>
                    <li class="copyright">
                            Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                        <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                            </a>
                    </li>
            
                </ul>
            
            </nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>
                   
                       <ul class="list">
                   
                           <li class="title">
                               <a href="../">pfa documentation</a>
                           </li>
                   
                           <li class="divider"></li>
                   
                               <div id="book-search-input" role="search">
                                   <input type="text" placeholder="Type to search">
                               </div>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                               <ul class="links">
                                       <li class="link">
                                           <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                       </li>
                                       <li class="link">
                                           <a 
                                               
                                                href="../overview.html" 
                                                href="../overview.html" 
                                               >
                                               <span class="fa fa-th"></span>Overview
                                           </a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="./modules.html" >
                                   <span class="fa fa-archive"></span>
                                   <span>Modules</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#modules-links"
                                   ></span>
                               </a>
                               <ul class="links collapse in"
                                       id="modules-links"
                   >
                                       <li class="link">
                                           <a href="../modules/AppModule.html" >AppModule</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-cogs"></span>
                                   <span>Components</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#components-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="components-links"
                   >
                                       <li class="link">
                                           <a href="../components/AboutComponent.html" >AboutComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AddNodeComponent.html" >AddNodeComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AddWeightedEdgeComponent.html" >AddWeightedEdgeComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AppComponent.html" >AppComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ChangeColorComponent.html" >ChangeColorComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ChangeIdNodeComponent.html" >ChangeIdNodeComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ChangeSizeScreenComponent.html" >ChangeSizeScreenComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ContactComponent.html" >ContactComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/FooterComponent.html" >FooterComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/GrapheFromEdgesListComponent.html" >GrapheFromEdgesListComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/GrapheFromMatrixAdjaComponent.html" >GrapheFromMatrixAdjaComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/HeaderComponent.html" >HeaderComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/InfoComponent.html" >InfoComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MatrixComponent.html" >MatrixComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MessageComponent.html" >MessageComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/RemoveEdgeComponent.html" >RemoveEdgeComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ScreenComponent.html" >ScreenComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ScreenboxComponent.html" >ScreenboxComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SelectComponent.html" >SelectComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                   
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-long-arrow-down"></span>
                                   <span>Injectables</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#injectables-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="injectables-links"
                   >
                                       <li class="link">
                                           <a href="../injectables/AlgorithmService.html" >AlgorithmService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/DarkModeService.html" >DarkModeService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/GrapheService.html" >GrapheService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/SaveUploadService.html"  class="active" >SaveUploadService</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-info"></span>
                                   <span>Interfaces</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#interfaces-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="interfaces-links"
                   >
                                       <li class="link">
                                           <a href="../interfaces/IUnweightedEdge.html" >IUnweightedEdge</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/IUnweightedEdgeTyped.html" >IUnweightedEdgeTyped</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/IWeightedEdge.html" >IWeightedEdge</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/IWeightedEdgeTyped.html" >IWeightedEdgeTyped</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                           </li>
                   
                           <li class="divider"></li>
                           <li class="copyright">
                                   Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                               <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                                   </a>
                           </li>
                   
                       </ul>
                   
                   </nav>
               </div>
               <div class="content injectable">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Injectables</li>
  <li>SaveUploadService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
    <li class="active">
        <a href="#infos" id="infos-tab" role="tab" data-toggle="tab">Infos</a>
    </li>
    <li>
        <a href="#source" role="tab" id="source-tab" data-toggle="tab">Source</a>
    </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="infos">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/AllService/save-upload.service.ts</code>
        </p>

            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Service responsible for handling save and upload operations.<br>It provides methods to save and upload data, and uses the TranslateService for localization.</p>

            </p>

            <section>
                <h3 id="constructor">Constructor</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <code>constructor(translate: TranslateService)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Initializes a new instance of the SaveUploadService.</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>translate</b>
                                                                    :     <code>TranslateService</code>
            
                                                            </div>
                                                            <div>
                                                                <ul>
            <li>The TranslateService for localization.</li>
            </ul>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
            </section>

            <section>
                <h3 id="methods">Methods</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> saveJSON</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>saveJSON(container: any)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Saves the current graph as a JSON file.</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>container</b>
                                                                    :     <code>ScreenboxComponent</code>
            
                                                            </div>
                                                            <div>
                                                                <ul>
            <li>The container object containing the Cytoscape instance and other data.</li>
            </ul>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                            <div class="io-description">
                                                
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> saveJPG</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>saveJPG(container: any, fullGraphe: boolean)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Saves the current graph as a JPG image.</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>container</b>
                                                                    :     <code>ScreenboxComponent</code>
            
                                                            </div>
                                                            <div>
                                                                <ul>
            <li>The container object containing the Cytoscape instance and other data.</li>
            </ul>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>fullGraphe</b>
                                                            </div>
                                                            <div>
                                                                <ul>
            <li>Whether to export the full graph or just the current viewport view.</li>
            </ul>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                            <div class="io-description">
                                                
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> savePNG</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>savePNG(container: any, fullGraph: boolean)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Saves the current graph as a PNG image.</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>container</b>
                                                                    :     <code>ScreenboxComponent</code>
            
                                                            </div>
                                                            <div>
                                                                <ul>
            <li>The container object containing the Cytoscape instance and other data.</li>
            </ul>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>fullGraph</b>
                                                            </div>
                                                            <div>
                                                                <ul>
            <li>Whether to export the full graph or just the current viewport view.</li>
            </ul>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                            <div class="io-description">
                                                
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> uploadJSON</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>uploadJSON(container: any)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Uploads a JSON file and updates the graph with the uploaded data.</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>container</b>
                                                                    :     <code>ScreenboxComponent</code>
            
                                                            </div>
                                                            <div>
                                                                <ul>
            <li>The container object containing the Cytoscape instance and other data.</li>
            </ul>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                            <div class="io-description">
                                                
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> OnSaveUploadChange</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>OnSaveUploadChange(container: any)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>Handles the change in the save/upload option and performs the corresponding action.</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>container</b>
                                                                    :     <code>ScreenboxComponent</code>
            
                                                            </div>
                                                            <div>
                                                                <ul>
            <li>The container object containing the Cytoscape instance and other data.</li>
            </ul>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                            <div class="io-description">
                                                
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
            </section>

    </div>
    <div class="tab-pane fade tab-source-code" id="source">
        <pre><code class="hljs javascript">import { Injectable } from &#x27;@angular/core&#x27;;
import { TranslateService } from &#x27;@ngx-translate/core&#x27;;
/**
 * Service responsible for handling save and upload operations.
 * It provides methods to save and upload data, and uses the TranslateService for localization.
 */
@Injectable({
  providedIn: &#x27;root&#x27;
})
export class SaveUploadService {
  /**
   * Initializes a new instance of the SaveUploadService.
   *
   * @param {TranslateService} translate - The TranslateService for localization.
   */
  constructor(private translate: TranslateService) { }
  /**
   * Saves the current graph as a JSON file.
   *
   * @param {ScreenboxComponent} container - The container object containing the Cytoscape instance and other data.
   */
  saveJSON(container:any) {
    // Get the Cytoscape elements in JSON format
    let elementsJson &#x3D; container.grapheS.cy.json();
    elementsJson.typeGraphe &#x3D; container.typeGraphe;
    // Create a Blob from the JSON data
    const blob &#x3D; new Blob([JSON.stringify(elementsJson)], { type: &#x27;application/json&#x27; });
    // Create a temporary URL for the Blob
    const url &#x3D; URL.createObjectURL(blob);
    // Create an anchor element for the download
    const a &#x3D; document.createElement(&#x27;a&#x27;);
    a.href &#x3D; url;
    a.download &#x3D; &#x27;graphe.json&#x27;;
    // Trigger the download
    a.click();
    container.saveUpload&#x3D;&quot;&quot;;
    // Clean up the temporary URL
    URL.revokeObjectURL(url);
  }
  
  /**
   * Saves the current graph as a JPG image.
   *
   * @param {ScreenboxComponent} container - The container object containing the Cytoscape instance and other data.
   * @param {boolean} [fullGraphe&#x3D;true] - Whether to export the full graph or just the current viewport view.
   */
  saveJPG(container:any,fullGraphe:boolean&#x3D;true):void{
  // Get a reference to the Cytoscape instance
  const cy &#x3D; container.grapheS.cy;
  // Export the current graph view as a JPG image
  const jpgPromise &#x3D; cy.jpg({
      output: &#x27;blob-promise&#x27;, // Use &#x27;blob-promise&#x27; to make it non-blocking
      quality: 1, // Set the quality to 1 (highest quality)
      bg: &#x27;white&#x27;, // Set the background color to white (optional)
      full: fullGraphe, // Export the current viewport view (change to true for full graph)
      scale: 1, // Set the scale (1 for original size)
      maxWidth: 900, // Maximum width (optional)
      maxHeight: 800, // Maximum height (optional)
  });
  jpgPromise.then((blob:any) &#x3D;&gt; {
      // Create an anchor element for the download
      const a &#x3D; document.createElement(&#x27;a&#x27;);
      a.href &#x3D; URL.createObjectURL(blob);
      a.download &#x3D; &#x27;graph.jpg&#x27;;
      // Trigger the download
      a.click();
      container.saveUpload&#x3D;&quot;&quot;;
  });
  }
  /**
   * Saves the current graph as a PNG image.
   *
   * @param {ScreenboxComponent} container - The container object containing the Cytoscape instance and other data.
   * @param {boolean} [fullGraph&#x3D;true] - Whether to export the full graph or just the current viewport view.
   */
  savePNG(container:any,fullGraph:boolean&#x3D;true):void{
    // Get a reference to the Cytoscape instance
    const cy &#x3D; container.grapheS.cy;
      
    // Export the current graph view as a PNG image
    const pngPromise &#x3D; cy.png({
        output: &#x27;blob-promise&#x27;, // Use &#x27;blob-promise&#x27; to make it non-blocking
        bg: &#x27;white&#x27;, // Set the background color to white (optional)
        full: fullGraph, // Export the current viewport view (change to true for full graph)
        scale: 1, // Set the scale (1 for original size)
        maxWidth: 900, // Maximum width (optional)
        maxHeight: 800, // Maximum height (optional)
    });
    
    pngPromise.then((blob: any) &#x3D;&gt; {
        // Create an anchor element for the download
        const a &#x3D; document.createElement(&#x27;a&#x27;);
        a.href &#x3D; URL.createObjectURL(blob);
        a.download &#x3D; &#x27;graph.png&#x27;;
        
        // Trigger the download
        a.click();
        
        // Optionally, you can perform additional actions after the download
        container.saveUpload &#x3D; &quot;&quot;;
    });
  }
  /**
   * Uploads a JSON file and updates the graph with the uploaded data.
   *
   * @param {ScreenboxComponent} container - The container object containing the Cytoscape instance and other data.
   */
  uploadJSON(container:any) {
    const input &#x3D; document.createElement(&#x27;input&#x27;);
    input.type &#x3D; &#x27;file&#x27;;
    input.onchange &#x3D; (event) &#x3D;&gt; {
      const file &#x3D; (event.target as HTMLInputElement).files?.[0];
      if (file) {
        const reader &#x3D; new FileReader();
        reader.onload &#x3D; (e) &#x3D;&gt; {
          try {
            const json &#x3D; JSON.parse(e.target?.result as string);
            let largestNodeId &#x3D; 0;
            json.elements.nodes.forEach((node: any) &#x3D;&gt; {
              const nodeId &#x3D; parseInt(node.data.id);
              if (nodeId &gt; largestNodeId) {
                largestNodeId &#x3D; nodeId;
              }
            });
            container.nodeId&#x3D;largestNodeId;
            // Check if the typeGraphe property exists
            if (json.typeGraphe) {
              // Clear existing elements
              container.grapheS.cy.elements().remove();
              // Add new elements from the uploaded JSON
              container.typeGraphe&#x3D;json.typeGraphe;
              container.grapheS.changeTypeGraphe(container);
              container.grapheS.cy.add(json.elements);
              // Fit the graph to the viewport
              container.saveUpload&#x3D;&quot;&quot;;
              container.message&#x3D;this.translate.instant(&quot;saveUploadS.msg1&quot;);
              container.grapheS.cy.fit();
              container.grapheS.cy.reset()
            } else {
              container.message&#x3D;this.translate.instant(&quot;saveUploadS.msg2&quot;);
            }
          } catch (error) {
            container.message&#x3D;this.translate.instant(&quot;saveUploadS.msg2&quot;);
          }
        };
        reader.readAsText(file);
      }
    };
    input.click();
  }
  /**
   * Handles the change in the save/upload option and performs the corresponding action.
   *
   * @param {ScreenboxComponent} container - The container object containing the Cytoscape instance and other data.
   */
  OnSaveUploadChange(container:any):void{
      container.changeSelect&#x3D;&quot;&quot;;
      container.remove&#x3D;&quot;&quot;;
      container.buttonClicked&#x3D;&quot;&quot;;
      container.containerHeight&#x3D;50;
      container.selectedNode&#x3D;[];
      container.algorithm&#x3D;&quot;&quot;;
      const formChangeNodeId&#x3D;container.el.nativeElement.querySelector(&#x27;.formChangeNodeId&#x27;);
      const formAddEdge &#x3D; container.el.nativeElement.querySelector(&#x27;.formAddEdges&#x27;);
      const formAChangeSizeScreen &#x3D; container.el.nativeElement.querySelector(&#x27;.formAChangeSizeScreen&#x27;);
      const formChangeColor &#x3D; container.el.nativeElement.querySelector(&#x27;.formChangeColor&#x27;);
      const formAddNode &#x3D; container.el.nativeElement.querySelector(&#x27;.formAddNode&#x27;);
      const formRemoveEdge &#x3D; container.el.nativeElement.querySelector(&#x27;.formRemoveEdge&#x27;);
      formChangeNodeId.style.display&#x3D;&quot;none&quot;;
      formAddEdge.style.display&#x3D;&quot;none&quot;;
      formChangeColor.style.display&#x3D;&quot;none&quot;;
      formAChangeSizeScreen.style.display&#x3D;&quot;none&quot;;
      formAddNode.style.display&#x3D;&quot;none&quot;;
      formRemoveEdge.style.display&#x3D;&quot;none&quot;;
      container.grapheS.position&#x3D;&quot;&quot;;
      if(container.saveUpload&#x3D;&#x3D;&quot;upload&quot;){
        this.uploadJSON(container);
      }else if(container.typeGraphe!&#x3D;&quot;&quot; &amp;&amp; container.grapheS.cy.nodes().length){
        if(container.saveUpload&#x3D;&#x3D;&quot;save&quot;){
          this.saveJSON(container);
        }else if(container.saveUpload&#x3D;&#x3D;&quot;saveJPG&quot;){
          this.saveJPG(container);
        }else if(container.saveUpload&#x3D;&#x3D;&quot;saveJPGScreen&quot;){
          this.saveJPG(container,false);
        }else if(container.saveUpload&#x3D;&#x3D;&quot;savePNG&quot;){
          this.savePNG(container);
        }else if(container.saveUpload&#x3D;&#x3D;&quot;savePNGScreen&quot;){
          this.savePNG(container,false);
        }
      }else{
          if(!container.grapheS.cy.nodes().length){
            container.message&#x3D;this.translate.instant(&quot;algoS.msg11&quot;);
          } else if(container.typeGraphe&#x3D;&#x3D;&quot;&quot;){
            container.message&#x3D;this.translate.instant(&quot;screenbox.msg23&quot;);
          }
          container.typeGraphe&#x3D;&quot;&quot;;
      }
  }
}


</code></pre>
    </div>
</div>







                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/menu.js"></script>
       <script src="../js/libs/highlight.pack.js"></script>
       <script src="../js/libs/highlightjs-line-numbers.min.js"></script>
       <script src="../js/search/search_index.js"></script>
       <script>
            document.addEventListener('DOMContentLoaded', function() {
                hljs.initHighlightingOnLoad();
                hljs.initLineNumbersOnLoad();
            });
       </script>

    </body>
</html>
